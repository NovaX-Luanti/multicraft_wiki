<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Multi Wiki ‚Äî Skeleton</title>
<style>
  :root{
    --bg:#0e0f12;
    --bg2:#14151b;
    --text:#e8e8ee;
    --muted:#b6b7c5;
    --accent:#9be37a;
    --card:#171923;
    --border:#2a2d3a;
    --radius:14px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    background:
      radial-gradient(1200px 600px at 10% -10%, #1a1b24 0%, transparent 60%),
      radial-gradient(1000px 500px at 110% 0%, #1a1b24 0%, transparent 60%),
      var(--bg);
    color:var(--text);
    font:14px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial,sans-serif;
    image-rendering: pixelated; /* per look ‚Äúgame GUI‚Äù sulle textures */
  }
  /* Layout */
  .app{
    display:grid;
    grid-template-columns: 280px 1fr;
    grid-template-rows: auto 1fr;
    grid-template-areas:
      "header header"
      "nav content";
    min-height:100dvh;
  }
  header{
    grid-area:header;
    position:sticky; top:0; z-index:5;
    background:var(--bg2);
    border-bottom:1px solid var(--border);
  }
  .header-inner{
    max-width:1200px; margin:0 auto; padding:10px 16px;
    display:flex; align-items:center; gap:12px;
  }
  .logo{
    display:flex; align-items:center; gap:10px; min-height:40px;
  }
  .logo__mark{
    width:44px; height:28px;
    background-repeat:no-repeat;
    background-position:center;
    background-size:contain;
    /* useremo un bottone ‚Äúyellow pressed‚Äù come badge */
  }
  .title{
    font-weight:700; letter-spacing:.2px;
  }
  .subtitle{
    color:var(--muted); font-size:12px;
  }
  .search{
    margin-left:auto; position:relative; width: min(380px, 45vw);
  }
  .search input{
    width:100%;
    border-radius:12px; border:1px solid var(--border);
    background:#11131a; color:var(--text);
    padding:10px 12px 10px 12px; outline:none;
  }
  /* Nav */
  nav{
    grid-area:nav;
    border-right:1px solid var(--border);
    background:linear-gradient(#11131a,#0f1117);
    padding:14px;
  }
  .nav-group{ display:flex; flex-direction:column; gap:10px }
  .nav-btn{
    --h:42px;
    height:var(--h);
    border:none; outline:none;
    padding:0 14px;
    color:#12220f;
    font-weight:700;
    text-shadow:0 1px 0 rgba(255,255,255,.3), 0 -1px 0 rgba(0,0,0,.4);
    display:flex; align-items:center; justify-content:flex-start;
    gap:10px;
    border-radius:10px;
    background: transparent; /* le texture arrivano da pseudo elementi */
    position:relative; cursor:pointer;
    user-select:none;
  }
  .nav-btn::before{
    /* stato base = gui_button_green.png */
    content:""; position:absolute; inset:0;
    background-repeat:repeat;
    background-size:contain;
    border-radius:10px;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,.35));
  }
  .nav-btn:hover::before{
    /* hover = gui_button_green_hovered.png */
  }
  .nav-btn:active::before,
  .nav-btn.is-active::before{
    /* pressed = gui_button_green_pressed.png */
  }
  .nav-btn span{ position:relative; z-index:1 }
  /* Content */
  main{
    grid-area:content;
    padding:18px; min-width:0;
  }
  .container{
    max-width:1200px; margin:0 auto;
    display:grid; gap:16px;
    grid-template-columns: 1fr;
  }
  .card{
    background:var(--card);
    border:1px solid var(--border);
    border-radius:var(--radius);
    padding:16px;
  }
  .empty{
    display:grid; gap:8px;
  }
  .empty h2{ margin:0 }
  .chips{ display:flex; flex-wrap:wrap; gap:8px; }
  .chip{
    height:32px; padding:0 10px;
    display:inline-flex; align-items:center; gap:8px;
    border-radius:999px;
    border:1px solid var(--border);
    background:#121521;
    font-size:12px; color:var(--muted);
  }
  .pill{
    padding:4px 8px; border-radius:999px;
    border:1px solid var(--border); background:#121521; color:var(--muted); font-size:12px;
  }
  /* Custom scrollbar usando le texture */
  .scrollable{
    max-height: 60vh; overflow:auto;
    scrollbar-width: thin; /* Firefox base */
  }
  /* Chrome/Edge custom */
  .scrollable::-webkit-scrollbar{ width:14px; height:14px }
  .scrollable::-webkit-scrollbar-track{
    background: transparent;
  }
  .scrollable::-webkit-scrollbar-thumb{
    border-radius:8px;
    background-repeat:repeat-y;
    background-position:center top;
  }
  /* Responsive */
  @media (max-width: 980px){
    .app{ grid-template-columns: 1fr; grid-template-areas: "header" "nav" "content" }
    nav{ position:sticky; top:60px; z-index:4; }
  }
  /* Utility */
  .hide{ display:none !important }
  a{ color:var(--accent); text-decoration:none }
  a:hover{ text-decoration:underline }
  .muted{ color:var(--muted) }
  footer{ color:var(--muted); font-size:12px; padding:16px 0; }
</style>
</head>
<body>
<div class="app">
  <header>
    <div class="header-inner">
      <div class="logo">
        <div class="logo__mark" id="logoMark" aria-hidden="true"></div>
        <div>
          <div class="title">Multi Wiki</div>
          <div class="subtitle">Scheletro pronto ‚Ä¢ Nessun articolo (ancora)</div>
        </div>
      </div>
      <div class="search">
        <input id="search" type="search" placeholder="Cerca sezione‚Ä¶" autocomplete="off" />
      </div>
    </div>
  </header>

  <nav>
    <div class="nav-group" id="navGroup">
      <!-- I pulsanti vengono generati da JS, cos√¨ colleghiamo hash routing e texture GUI -->
    </div>
  </nav>

  <main>
    <div class="container">
      <section class="card">
        <div id="sectionTitle" class="muted pill">/</div>
        <div class="empty">
          <h2 id="sectionHeading">Benvenuto üëã</h2>
          <p id="sectionNote" class="muted">Seleziona una sezione a sinistra. Qui comparir√† l‚Äôindice e, pi√π avanti, gli articoli.</p>
          <div class="chips" id="chipList"></div>
        </div>
      </section>

      <section class="card">
        <h3 style="margin-top:0">Stato contenuti</h3>
        <div class="scrollable" id="statusList">
          <!-- Lista placeholder delle sezioni (tutte ‚Äúvuote‚Äù per ora) -->
        </div>
      </section>

      <footer class="container">
        <div>UI basata esclusivamente sulle texture della tua <strong>GUI</strong>. Nessuna libreria esterna.</div>
      </footer>
    </div>
  </main>
</div>

<script>
/* ==== CONFIGURAZIONE PERCORSI DELLA TUA GUI ==== 
   Metti questo index.html nella stessa cartella della directory "gui/"
   che contiene le immagini (es. gui/gui_button_green.png, scrollbar_*.png, ecc).
   Se la cartella ha un altro nome o percorso, cambia qui sotto. */
const GUI_BASE = "gui/";

/* Sezioni richieste */
const SECTIONS = [
  "Trading","Pozioni","Enchanting","Blocchi","Items","Smelting","Crafting",
  "Strutture","Bluestone","Mods","Storia di Multi","Oggetti eliminati","Gente importante"
];

/* Texture mapping: usiamo le varianti green per i bottoni */
const TEX = {
  btn_idle:       GUI_BASE + "gui_button_green.png",
  btn_hover:      GUI_BASE + "gui_button_green_hovered.png",
  btn_pressed:    GUI_BASE + "gui_button_green_pressed.png",
  btn_idle_x2:    GUI_BASE + "gui_button_green.x2.png",
  btn_hover_x2:   GUI_BASE + "gui_button_green_hovered.x2.png",
  btn_pressed_x2: GUI_BASE + "gui_button_green_pressed.x2.png",

  logo_badge:     GUI_BASE + "gui_button_yellow_pressed.png", // usato come ‚Äúbadge‚Äù logo
  scroll_track:   GUI_BASE + "scrollbar_bg.png",
  scroll_thumb:   GUI_BASE + "scrollbar_slider_middle.png",
  scroll_thumb_top: GUI_BASE + "scrollbar_slider_top.png",
  scroll_thumb_bot: GUI_BASE + "scrollbar_slider_bottom.png"
};

/* Utilit√† per applicare texture ai pulsanti nav */
function styleNavButton(el){
  // stato base
  el.style.setProperty("--bg-idle", `url('${TEX.btn_idle}')`);
  el.style.setProperty("--bg-hover", `url('${TEX.btn_hover}')`);
  el.style.setProperty("--bg-pressed", `url('${TEX.btn_pressed}')`);
  // Applica tramite CSS inline on the fly
  const setBg = (url)=> el.style.setProperty("--curr-bg", `url('${url}')`);
  el.addEventListener("mouseenter", ()=> setBg(TEX.btn_hover));
  el.addEventListener("mouseleave", ()=> setBg(el.classList.contains("is-active")? TEX.btn_pressed : TEX.btn_idle));
  el.addEventListener("mousedown", ()=> setBg(TEX.btn_pressed));
  el.addEventListener("mouseup",   ()=> setBg(TEX.btn_hover));
  // iniziale
  setBg(TEX.btn_idle);
  // Pseudo con before tramite style attrib (workaround per single-file)
  el.style.position="relative";
  const before = document.createElement("span");
  before.setAttribute("aria-hidden","true");
  before.style.position="absolute";
  before.style.inset="0";
  before.style.borderRadius="10px";
  before.style.backgroundImage=`var(--curr-bg)`;
  before.style.backgroundRepeat="repeat";
  before.style.backgroundSize="auto 100%";
  before.style.filter="drop-shadow(0 4px 8px rgba(0,0,0,.35))";
  el.prepend(before);
  // Portiamo il testo sopra
  el.querySelector("span").style.position="relative";
  el.querySelector("span").style.zIndex="1";
}

/* Custom scrollbar usando le tue texture */
function styleScrollbars(){
  const style = document.createElement("style");
  style.textContent = `
    .scrollable::-webkit-scrollbar-track{
      background: url('${TEX.scroll_track}') repeat-y center top;
      background-size: 100% auto;
    }
    .scrollable::-webkit-scrollbar-thumb{
      background-image:
        url('${TEX.scroll_thumb_top}'),
        url('${TEX.scroll_thumb}'),
        url('${TEX.scroll_thumb_bot}');
      background-repeat: no-repeat, repeat-y, no-repeat;
      background-position: center top, center, center bottom;
      background-size: 100% 10px, 100% auto, 100% 10px;
    }
  `;
  document.head.appendChild(style);
}

/* Header ‚Äúlogo‚Äù (usiamo il bottone yellow pressed come toppa stilosa) */
function styleLogo(){
  const mark = document.getElementById("logoMark");
  mark.style.backgroundImage = `url('${TEX.logo_badge}')`;
}

/* Genera nav */
function buildNav(){
  const group = document.getElementById("navGroup");
  group.innerHTML = "";
  SECTIONS.forEach(name=>{
    const id = slug(name);
    const btn = document.createElement("button");
    btn.className="nav-btn";
    btn.setAttribute("data-id", id);
    btn.innerHTML = `<span>${name}</span>`;
    btn.addEventListener("click", ()=>{
      location.hash = `#/${id}`;
      setActive(id);
      renderSection(id, name);
    });
    group.appendChild(btn);
    styleNavButton(btn);
  });
}

/* Stato attivo nav */
function setActive(id){
  document.querySelectorAll(".nav-btn").forEach(b=>{
    const on = b.getAttribute("data-id") === id;
    b.classList.toggle("is-active", on);
    const bg = on ? TEX.btn_pressed : TEX.btn_idle;
    b.style.setProperty("--curr-bg", `url('${bg}')`);
  });
}

/* Render contenuto placeholder */
function renderSection(id, name){
  document.getElementById("sectionTitle").textContent = `/${name}`;
  document.getElementById("sectionHeading").textContent = name;
  document.getElementById("sectionNote").textContent = "Sezione inizializzata. Aggiungi articoli quando sei pronto ‚Äî qui compariranno indice e contenuti.";
  // chip esempi
  const chips = [
    "Indice (WIP)","Linee guida","Template voce","Tag","Collegamenti"
  ];
  const list = document.getElementById("chipList");
  list.innerHTML = "";
  chips.forEach(c=>{
    const span = document.createElement("span");
    span.className="chip";
    span.textContent=c;
    list.appendChild(span);
  });
}

/* Lista stato (tutte vuote) */
function renderStatus(){
  const wrap = document.getElementById("statusList");
  wrap.innerHTML = "";
  SECTIONS.forEach(name=>{
    const row = document.createElement("div");
    row.style.display="grid";
    row.style.gridTemplateColumns="160px 1fr";
    row.style.gap="10px";
    row.style.padding="10px 6px";
    row.style.borderBottom="1px solid var(--border)";
    row.innerHTML = `
      <div class="muted">${name}</div>
      <div><span class="pill">0 articoli</span> <span class="pill">bozza</span></div>
    `;
    wrap.appendChild(row);
  });
}

/* Ricerca in nav */
function bindSearch(){
  const input = document.getElementById("search");
  input.addEventListener("input", ()=>{
    const q = input.value.trim().toLowerCase();
    document.querySelectorAll(".nav-btn").forEach(b=>{
      const name = b.textContent.trim().toLowerCase();
      b.classList.toggle("hide", q && !name.includes(q));
    });
  });
}

/* Routing via hash */
function handleHash(){
  const id = location.hash.replace(/^#\//,"");
  const match = SECTIONS.find(s => slug(s) === id) || null;
  if(match){
    setActive(id);
    renderSection(id, match);
  }else{
    // default alla prima sezione
    const first = slug(SECTIONS[0]);
    setActive(first);
  }
}

/* Helper */
const slug = s => s.toLowerCase().replace(/\s+/g,'-').replace(/[^\w\-]/g,'');

/* Init */
styleScrollbars();
styleLogo();
buildNav();
renderStatus();
bindSearch();
window.addEventListener("hashchange", handleHash);
handleHash();

/* Precaricamento texture utili */
[
  TEX.btn_idle, TEX.btn_hover, TEX.btn_pressed,
  TEX.btn_idle_x2, TEX.btn_hover_x2, TEX.btn_pressed_x2,
  TEX.logo_badge, TEX.scroll_track, TEX.scroll_thumb, TEX.scroll_thumb_top, TEX.scroll_thumb_bot
].forEach(src=>{ const i=new Image(); i.src = src; });

</script>
</body>
</html>
